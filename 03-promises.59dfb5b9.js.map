{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,WAGuC,MAAjCC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,OAAQF,SAASC,cAAc,WAQmC,IAAhEE,EACAC,EACAC,EAyCkF,SAA7EC,EAAcC,EAAUC,GAC/B,MAAMC,EAAU,IAAIC,SAAQ,CAACC,EAASC,KACpC,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACLH,EACFF,EAAQ,C,SAAEJ,E,MAAUC,IAEpBI,EAAO,C,SAAEL,E,MAAUC,GAAQ,GAE5BA,EAAM,IAIX,OAFAS,QAAQC,IAAIT,GAELA,C,CA3D6BX,EAAjCC,KAAKoB,iBAAiB,SAOY,SAAlBC,GAMoBjB,EAA1BkB,OAAOD,EAAEE,cAAcC,SAASf,MAAMgB,OACnDpB,EAAYiB,OAAOD,EAAEE,cAAcC,SAASE,KAAKD,OACjDnB,EAAiBgB,OAAOD,EAAEE,cAAcC,SAASG,OAAOF,M,IAd1D1B,EAAKI,OAAOiB,iBAAiB,SAoBe,SAArBC,GAGWA,EAA9BO,iBACFV,QAAQC,IAAI,4CAEqD,IAA7DU,EAAQzB,EAEiD,IAAxD,IAAI0B,EAAI,EAAGA,GAAKxB,EAAgBwB,GAAK,EAENvB,EAApBuB,EAAGD,GAEsEE,MAA/E,EAACvB,SAAEA,EAAQC,MAAEA,MACjBuB,EAAAnC,GAASoC,OAAOC,QAAQ,sBAAsB1B,QAAeC,MAAU,IAGxE0B,OAAM,EAAC3B,SAAEA,EAAQC,MAAEA,MAClBuB,EAAAnC,GAASoC,OAAOG,QAAQ,qBAAqB5B,QAAeC,MAAU,IAIpCoB,GAAtBxB,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n// =============нашла ссылки на элементы кнопку и на саму форму==========\nconst refs = {\n  form: document.querySelector('.form'),\n  submit: document.querySelector('button'),\n};\n// console.log(refs.form);\n// console.log(refs.submit);\n// ============вешаю слушателей событий на форму и на кнопку\nrefs.form.addEventListener('input', onFormInput);\nrefs.submit.addEventListener('click', onSubmitClick);\n// ==========глобальные переменные, которые будут принимать введеные значения в полях формы\nlet firstDelay;\nlet stepDelay;\nlet amountPromises;\n// =======функция обработчик собития ввода в поля формы==================\nfunction onFormInput(e) {\n  // console.log(e.target.value);\n  // console.log(e.currentTarget.elements.delay.value);\n  // console.log(e.currentTarget.elements.step.value);\n  // console.log(e.currentTarget.elements.amount.value);\n  // =========в переменнеые записываю значения полей формы================\n  firstDelay = Number(e.currentTarget.elements.delay.value);\n  stepDelay = Number(e.currentTarget.elements.step.value);\n  amountPromises = Number(e.currentTarget.elements.amount.value);\n  // console.log(firstDelay);\n  // console.log(stepDelay);\n  // console.log(amountPromises);\n}\n// ==========функция обработчик события клика на кнопку создать======\nfunction onSubmitClick(e) {\n  // =======запрет браузеру перезагружать страницу при нажатии на кнопку, =\n  // ===(иначе обнуляются данные в полях формы===\n  e.preventDefault();\n  console.log('вызываем функцию, которая создает промис');\n  // ===присваиваем переменной значение  задержки перед  созданием первого промиса====\n  let delay = firstDelay;\n  // запускаем цикл, столько раз, сколько пользователь ввел в поле количество\n  for (let i = 1; i <= amountPromises; i += 1) {\n    //  вызиваю функцию которая создает промис\n    createPromise(i, delay)\n      // методы промиса для успешного и не успешного завершения, использую библиотеку для вывода сообщения\n      .then(({ position, delay }) => {\n        Notiflix.Notify.success(` Fulfilled promise ${position} in ${delay}ms`);\n        // console.log(` Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notiflix.Notify.failure(` Rejected promise ${position} in ${delay}ms`);\n        // console.log(` Rejected promise ${position} in ${delay}ms`);\n      });\n    // увеличиваем время задержки на величину шага\n    delay = delay + stepDelay;\n  }\n}\n// функция которая создает промис, принимает позицию(номер) промиса и время через которое он будет создан\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n  console.log(promise);\n  // возвращает промис\n  return promise;\n}"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","submit","$47d4ff9957288465$var$firstDelay","$47d4ff9957288465$var$stepDelay","$47d4ff9957288465$var$amountPromises","$47d4ff9957288465$var$createPromise","position","delay","promise","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","console","log","addEventListener","e","Number","currentTarget","elements","value","step","amount","preventDefault","delay1","i","then","$parcel$interopDefault","Notify","success","catch","failure"],"version":3,"file":"03-promises.59dfb5b9.js.map"}